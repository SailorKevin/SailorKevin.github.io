# Class name must be Strategy
class Strategy():     # option setting needed
    def __setitem__(self, key, value):
        self.options[key] = value      # option setting needed

    def __getitem__(self, key):
        return self.options.get(key, '')

    def __init__(self):         # strategy property needed
        self.subscribedBooks = {'Binance': {'pairs': ['BTC-USDT'], }, }
        self.options = {}          # user defined class attribute
        self.last_type = 'sell'       # called every self.period
        self.period = 10 * 60

    # for single pair strategy, user can choose which exchange/pair to use when launch, get current exchange/pair from information
    def trade(self, information):
        exchange = list(information['candles'])[0]
        pair = list(information['candles'][exchange])[0]
        if self.last_type == 'sell':
            self.last_type = 'buy'
            return [{'exchange': exchange,                     'amount': 1,                     'price': -1,                     'type': 'MARKET',                     'pair': pair, }, ]
        else:
            self.last_type = 'sell'
            return [{'exchange': exchange,                     'amount': -1,                     'price': -1,                     'type': 'MARKET',                     'pair': pair, }, ]
        return []


